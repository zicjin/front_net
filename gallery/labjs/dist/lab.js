define("gallery/labjs/2.0.3/lab",[],function(e){(function(e){function b(e){return Object.prototype.toString.call(e)=="[object Function]"}function w(e){return Object.prototype.toString.call(e)=="[object Array]"}function E(e,t){var n=/^\w+\:\/\//;return/^\/\/\/?/.test(e)?e=location.protocol+e:!n.test(e)&&e.charAt(0)!="/"&&(e=(t||"")+e),n.test(e)?e:(e.charAt(0)=="/"?f:a)+e}function S(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function x(e){var t=!1;for(var n=0;n<e.scripts.length;n++)e.scripts[n].ready&&e.scripts[n].exec_trigger&&(t=!0,e.scripts[n].exec_trigger(),e.scripts[n].exec_trigger=null);return t}function T(e,t,n,r){e.onload=e.onreadystatechange=function(){if(e.readyState&&e.readyState!="complete"&&e.readyState!="loaded"||t[n])return;e.onload=e.onreadystatechange=null,r()}}function N(e){e.ready=e.finished=!0;for(var t=0;t<e.finished_listeners.length;t++)e.finished_listeners[t]();e.ready_listeners=[],e.finished_listeners=[]}function C(e,t,r,i,s){setTimeout(function(){var u,a=t.real_src,c;if("item"in l){if(!l[0]){setTimeout(arguments.callee,25);return}l=l[0]}u=document.createElement("script"),t.type&&(u.type=t.type),t.charset&&(u.charset=t.charset),s?m?(e[o]&&h("start script preload: "+a),r.elem=u,v?(u.preload=!0,u.onpreload=i):u.onreadystatechange=function(){u.readyState=="loaded"&&i()},u.src=a):s&&a.indexOf(f)==0&&e[n]?(c=new XMLHttpRequest,e[o]&&h("start script preload (xhr): "+a),c.onreadystatechange=function(){c.readyState==4&&(c.onreadystatechange=function(){},r.text=c.responseText+"\n//@ sourceURL="+a,i())},c.open("GET",a),c.send()):(e[o]&&h("start script preload (cache): "+a),u.type="text/cache-script",T(u,r,"ready",function(){l.removeChild(u),i()}),u.src=a,l.insertBefore(u,l.firstChild)):g?(e[o]&&h("start script load (ordered async): "+a),u.async=!1,T(u,r,"finished",i),u.src=a,l.insertBefore(u,l.firstChild)):(e[o]&&h("start script load: "+a),T(u,r,"finished",i),u.src=a,l.insertBefore(u,l.firstChild))},0)}function k(){function g(e,t,n){function s(){r!=null&&(r=null,N(n))}var r;if(d[t.src].finished)return;e[i]||(d[t.src].finished=!0),r=n.elem||document.createElement("script"),t.type&&(r.type=t.type),t.charset&&(r.charset=t.charset),T(r,n,"finished",s),n.elem?n.elem=null:n.text?(r.onload=r.onreadystatechange=null,r.text=n.text):r.src=t.real_src,l.insertBefore(r,l.firstChild),n.text&&s()}function L(e,t,n,r){var o,a,f=function(){t.ready_cb(t,function(){g(e,t,o)})},l=function(){t.finished_cb(t,n)};t.src=E(t.src,e[u]),t.real_src=t.src+(e[s]?(/\?.*$/.test(t.src)?"&_":"?_")+~~(Math.random()*1e9)+"=":""),d[t.src]||(d[t.src]={items:[],finished:!1}),a=d[t.src].items,e[i]||a.length==0?(o=a[a.length]={ready:!1,finished:!1,ready_listeners:[f],finished_listeners:[l]},C(e,t,o,r?function(){o.ready=!0;for(var e=0;e<o.ready_listeners.length;e++)o.ready_listeners[e]();o.ready_listeners=[]}:function(){N(o)},r)):(o=a[0],o.finished?l():o.finished_listeners.push(l))}function A(){function l(e,n){t[o]&&h("script preload finished: "+e.real_src),e.ready=!0,e.exec_trigger=n,d()}function c(e,n){t[o]&&h("script execution finished: "+e.real_src),e.ready=e.finished=!0,e.exec_trigger=null;for(var r=0;r<n.scripts.length;r++)if(!n.scripts[r].finished)return;n.finished=!0,d()}function d(){while(i<n.length){if(b(n[i])){t[o]&&h("$LAB.wait() executing: "+n[i]);try{n[i++]()}catch(e){t[o]&&p("$LAB.wait() error caught: ",e)}continue}if(!n[i].finished){if(x(n[i]))continue;break}i++}i==n.length&&(s=!1,u=!1)}function v(){(!u||!u.scripts)&&n.push(u={scripts:[],finished:!0})}var e,t=S(a,{}),n=[],i=0,s=!1,u;return e={script:function(){for(var n=0;n<arguments.length;n++)(function(n,i){var o;w(n)||(i=[n]);for(var a=0;a<i.length;a++){v(),n=i[a],b(n)&&(n=n());if(!n)continue;if(w(n)){o=[].slice.call(n),o.unshift(a,1),[].splice.apply(i,o),a--;continue}typeof n=="string"&&(n={src:n}),n=S(n,{ready:!1,ready_cb:l,finished:!1,finished_cb:c}),u.finished=!1,u.scripts.push(n),L(t,n,u,f&&s),s=!0,t[r]&&e.wait()}})(arguments[n],arguments[n]);return e},wait:function(){if(arguments.length>0){for(var t=0;t<arguments.length;t++)n.push(arguments[t]);u=n[n.length-1]}else u=!1;return d(),e}},{script:e.script,wait:e.wait,setOptions:function(n){return S(n,t),e}}}var a={},f=m||y,c=[],d={},v;return a[n]=!0,a[r]=!1,a[i]=!1,a[s]=!1,a[o]=!1,a[u]="",v={setGlobalDefaults:function(e){return S(e,a),v},setOptions:function(){return A().setOptions.apply(null,arguments)},script:function(){return A().script.apply(null,arguments)},wait:function(){return A().wait.apply(null,arguments)},queueScript:function(){return c[c.length]={type:"script",args:[].slice.call(arguments)},v},queueWait:function(){return c[c.length]={type:"wait",args:[].slice.call(arguments)},v},runQueue:function(){var e=v,t=c.length,n=t,r;for(;--n>=0;)r=c.shift(),e=e[r.type].apply(null,r.args);return e},noConflict:function(){return e.$LAB=t,v},sandbox:function(){return k()}},v}var t=e.$LAB,n="UseLocalXHR",r="AlwaysPreserveOrder",i="AllowDuplicates",s="CacheBust",o="Debug",u="BasePath",a=/^[^?#]*\//.exec(location.href)[0],f=/^\w+\:\/\/\/?[^\/]+/.exec(a)[0],l=document.head||document.getElementsByTagName("head"),c=e.opera&&Object.prototype.toString.call(e.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,h=function(){},p=h,d=document.createElement("script"),v=typeof d.preload=="boolean",m=v||d.readyState&&d.readyState=="uninitialized",g=!m&&d.async===!0,y=!m&&!g&&!c;e.console&&e.console.log&&(e.console.error||(e.console.error=e.console.log),h=function(t){e.console.log(t)},p=function(t,n){e.console.error(t,n)}),e.$LAB=k(),function(e,t,n){document.readyState==null&&document[e]&&(document.readyState="loading",document[e](t,n=function(){document.removeEventListener(t,n,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")})(this);if(e)return $LAB.noConflict()});